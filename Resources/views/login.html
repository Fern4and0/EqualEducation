<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../Resources/css/styles_login.css">
    <script src="../js/script.js" defer></script>
    <title>Login</title>
</head>
<body>
    <div class="container">
        <h2 style="text-align: center;">Iniciar Sesión</h2>
        <!-- Mensaje de error -->
        <div id="error-message" style="color: red; text-align: center; display: none;">
            Tus credenciales son incorrectas, intenta de nuevo por favor.
        </div>
        <form action="../../Controllers/Login/Login.php" method="POST" id="formularioLogin">
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required placeholder="Ingresa tu correo">
            </div>
            <div class="form-group">
                <label for="password">Contraseña:</label>
                <div class="password-wrapper">
                    <input type="password" id="password" name="password" required placeholder="Ingresa tu contraseña">
                    <span id="toggle-password" class="toggle-password">
                        <i id="eye-icon" class="fas fa-eye"></i>
                    </span>
                </div>
            </div>
            <script>
                document.getElementById('toggle-password').addEventListener('click', function () {
                    const passwordInput = document.getElementById('password');
                    const eyeIcon = document.getElementById('eye-icon');
                    if (passwordInput.type === 'password') {
                        passwordInput.type = 'text';
                        eyeIcon.classList.remove('fa-eye');
                        eyeIcon.classList.add('fa-eye-slash');
                    } else {
                        passwordInput.type = 'password';
                        eyeIcon.classList.remove('fa-eye-slash');
                        eyeIcon.classList.add('fa-eye');
                    }
                });

                // Mostrar mensaje de error si el parámetro "error" está presente en la URL
                const urlParams = new URLSearchParams(window.location.search);
                if (urlParams.has('error')) {
                    document.getElementById('error-message').style.display = 'block';
                }
            </script>
            <style>
                .password-wrapper {
                    position: relative;
                }
                .toggle-password {
                    position: absolute;
                    right: 10px;
                    top: 50%;
                    transform: translateY(-50%);
                    cursor: pointer;
                }
            </style>
            <button type="submit">Iniciar Sesión</button>
        </form>
    </div>
</body>
</html>
